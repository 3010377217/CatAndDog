{"version":3,"file":"Shops.js","sources":["pages/Shops/Shops.vue","../HBuilderX/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvU2hvcHMvU2hvcHMudnVl"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<!-- 搜索框 -->\n\t\t<view class=\"search-container\">\n\t\t\t<view class=\"search-box\" @tap=\"goToSearch\">\n\t\t\t\t<image class=\"search-icon\" src=\"/static/icons/Search.png\" mode=\"aspectFit\"></image>\n\t\t\t\t<text class=\"placeholder\">搜索商品</text>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 优雅的分割线 -->\n\t\t<view class=\"divider\"></view>\n\n\t\t<!-- 卡片式轮播图 -->\n\t\t<view class=\"banner-container\">\n\t\t<u-swiper\n\t\t\t:list=\"bannerList\"\n\t\t\theight=\"190\"\n\t\t\tmode=\"card\"\n\t\t\tcircular\n\t\t\t:autoplay=\"true\"\n\t\t\tprevious-margin=\"50\"\n\t\t\tnext-margin=\"50\"\n\t\t\tduration=\"800\"\n\t\t\tinterval=\"3000\"\n\t\t\tscale=\"0.8\"\n\t\t/>\n\t\t</view>\n\t\t<!-- 公告播报区域 -->\n\t\t<view class=\"notice-wrapper\">\n\t\t\t\n\t\t\t<u-notice-bar direction=\"column\" :text=\"noticeList\" duration=\"3000\"/>\n\t\t</view>\n\t\t<!-- 点单区域 -->\n\t\t<view class=\"content\">\n\t\t\t<!-- 左侧分类栏 -->\n\t\t\t<scroll-view class=\"cu-list menu\" scroll-y>\n\t\t\t\t<view \n\t\t\t\t\tv-for=\"(category, index) in categories\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\tclass=\"cu-item\"\n\t\t\t\t\t:class=\"{ active: currentCategory === index }\"\n\t\t\t\t\t@tap=\"scrollToCategory(index)\"\n\t\t\t\t>\n\t\t\t\t\t<text>{{ category.name }}</text>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\n\t\t\t<!-- 右侧商品列表 -->\n\t\t\t<scroll-view \n\t\t\t\tclass=\"main\" \n\t\t\t\tscroll-y \n\t\t\t\tscroll-with-animation\n\t\t\t\t:scroll-into-view=\"scrollIntoView\"\n\t\t\t\t@scroll=\"onScroll\"\n\t\t\t>\n\t\t\t\t<view \n\t\t\t\t\tv-for=\"(category, index) in categories\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t:id=\"'category-' + index\"\n\t\t\t\t\tclass=\"category-section\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"category-title\">{{ category.name }}</view>\n\t\t\t\t\t<view \n\t\t\t\t\t\tclass=\"goods-item\" \n\t\t\t\t\t\tv-for=\"item in getCategoryGoods(category.id)\" \n\t\t\t\t\t\t:key=\"item.id\"\n\t\t\t\t\t\t@tap=\"showGoodsDetail(item)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<image :src=\"item.image\" mode=\"aspectFill\" class=\"goods-image\"></image>\n\t\t\t\t\t\t<view class=\"goods-info\">\n\t\t\t\t\t\t\t<view class=\"goods-name-wrap\">\n\t\t\t\t\t\t\t\t<text class=\"goods-name\">{{ item.name }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<text class=\"goods-desc\">{{ item.description }}</text>\n\t\t\t\t\t\t\t<view class=\"goods-bottom\">\n\t\t\t\t\t\t\t\t<text class=\"goods-price\">¥{{ item.price }}</text>\n\t\t\t\t\t\t\t\t<view class=\"goods-action\">\n\t\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\t\tclass=\"cu-btn icon sm round bg-gray\" \n\t\t\t\t\t\t\t\t\t\tv-if=\"item.num > 0\" \n\t\t\t\t\t\t\t\t\t\t@tap.stop=\"updateCart(item, -1)\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-move\"></text>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\t\tclass=\"cu-btn icon sm round bg-red\" \n\t\t\t\t\t\t\t\t\t\t@tap.stop=\"updateCart(item, 1)\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-add\"></text>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<image class=\"spec-icon\" src=\"/static/icons/Add.png\" mode=\"aspectFit\" @tap.stop=\"selectSpec(item)\"></image>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\n\t\t<!-- 购物车 -->\n\t\t <!-- v-if=\"totalNum == 0\" -->\n\t\t<view class=\"cart\" >\n\t\t\t<view class=\"cart-info\" @tap=\"showCartPopup\">\n\t\t\t\t<view class=\"cart-icon\">\n\t\t\t\t\t<image class=\"cart-icon-img\" src=\"/static/icons/ShoppingCart.png\" mode=\"aspectFit\"></image>\n\t\t\t\t\t<text class=\"badge\" v-if=\"totalNum\">{{ totalNum }}</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"cart-price\">\n\t\t\t\t\t<text>¥{{ totalAmount }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"cart-button\">\n\t\t\t\t<button @tap=\"goToOrder\">去结算</button>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 规格选择弹窗 -->\n\t\t<SpecPopup v-model:show=\"specPopupVisible\" :item=\"currentSpecItem\" />\n\n\t\t<!-- 购物车弹窗 -->\n\t\t<u-popup v-if=\"cartPopupVisible\" v-model:show=\"cartPopupVisible\" mode=\"bottom\" round=\"20\" safe-area-inset-bottom>\n\t\t\t<view class=\"popup\">\n\t\t\t\t<view class=\"popup-header\">\n\t\t\t\t\t<text class=\"title\">购物车</text>\n\t\t\t\t\t<text class=\"clear\" @tap=\"clearCart\" v-if=\"cartItems.length\">清空</text>\n\t\t\t\t</view>\n\t\t\t\t<scroll-view scroll-y=\"true\" class=\"popup-content\">\n\t\t\t\t\t<view class=\"popup-item\" v-for=\"item in cartItems\" :key=\"item.id\">\n\t\t\t\t\t\t<image :src=\"item.image || '/static/logo.png'\" class=\"item-image\" mode=\"aspectFill\" />\n\t\t\t\t\t\t<view class=\"item-info\">\n\t\t\t\t\t\t\t<text class=\"item-name\">{{ item.name }}</text>\n\t\t\t\t\t\t\t<text class=\"item-price\">¥{{ item.price }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"item-action\">\n\t\t\t\t\t\t\t<view class=\"minus\" @tap.stop=\"updateCart(item,-1)\">-</view>\n\t\t\t\t\t\t\t<text class=\"num\">{{ item.num }}</text>\n\t\t\t\t\t\t\t<view class=\"plus\" @tap.stop=\"updateCart(item,1)\">+</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</scroll-view>\n\t\t\t</view>\n\t\t</u-popup>\n\t\t<!-- 商品详情弹窗 -->\n\t\t<GoodsDetailPopup \n\t\t\tv-model:show=\"goodsDetailVisible\" \n\t\t\t:item=\"currentDetailItem\" \n\t\t\t@add-to-cart=\"handleAddToCart\"\n\t\t/>\n\t</view>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, watch } from 'vue'\nimport { storeToRefs } from 'pinia'\nimport { useShopStore } from '@/stores/shop'\nimport SpecPopup from '@/components/SpecPopup.vue'\nimport GoodsDetailPopup from '@/components/GoodsDetailPopup.vue'\n\n// 响应式数据\nconst cardCur = ref(0)\nconst currentCategory = ref(0)\nconst searchKeyword = ref('')\nconst searchMode = ref(false)\nconst scrollTimer = ref(null)\nconst scrollIntoView = ref('')\n\n// 轮播图数据\nconst bannerList = ref([\n\t'/static/picture/1.jpg',\n\t'/static/picture/2.jpg',\n\t'/static/picture/3.jpg',\n\t'/static/picture/4.jpg',\n\t'/static/picture/5.jpg'\n])\n\n// 公告列表\nconst noticeList = ref([\n\t'欢迎光临本商城，满99元包邮！',\n\t'新品上市，全场8折优惠！',\n\t'宠物洗护专区：买二送一，快来抢购！',\n\t'点击商品卡片可查看详情哦！',\n\t'春节期间为运输高峰期，请耐心等待！',\n])\n\n// 生命周期钩子\nonMounted(() => {\n\t// 初始化轮播图\n\tcardCur.value = 0\n\t\n\t// 初始化加载商品数据\n\tloadShopData()\n})\n\n// 加载商品数据\nconst loadShopData = async () => {\n\tconsole.log('Shops.vue - 开始加载商品数据')\n\ttry {\n\t\t// 加载所有商品数据\n\t\tawait shopStore.fetchGoods(1, 100) // 一次性加载足够多的商品\n\t\tconsole.log('Shops.vue - 商品数据加载成功，商品数量:', goodsList.value.length)\n\t} catch (error) {\n\t\tconsole.error('Shops.vue - 加载商品数据失败:', error)\n\t\tuni.showToast({\n\t\t\ttitle: '加载商品失败，请重试',\n\t\t\ticon: 'none'\n\t\t})\n\t}\n}\n\n// 获取商品列表 store\nconst shopStore = useShopStore()\n// 使用 storeToRefs 保持响应性\nconst { goodsList, categories } = storeToRefs(shopStore)\n\n// 购物车数据\nconst cartItems = computed(() => goodsList.value.filter(item => item.num > 0))\nconst cartPopupVisible = ref(false)\n\n// 计算属性\nconst currentGoods = computed(() => {\n\tif (searchMode.value && searchKeyword.value) {\n\t\treturn goodsList.value.filter(item => \n\t\t\titem.name.toLowerCase().includes(searchKeyword.value.toLowerCase()) ||\n\t\t\titem.description.toLowerCase().includes(searchKeyword.value.toLowerCase())\n\t\t)\n\t}\n\t// 使用store中的分类ID\n\treturn goodsList.value.filter(item => item.categoryId === categories.value[currentCategory.value].id)\n})\n\nconst totalAmount = computed(() => {\n\treturn cartItems.value.reduce((sum, item) => sum + item.price * item.num, 0)\n})\n\nconst totalNum = computed(() => {\n\treturn cartItems.value.reduce((sum, item) => sum + item.num, 0)\n})\n\n// 方法\nconst goToSearch = () => {\n\tuni.navigateTo({\n\t\turl: './Search'\n\t})\n}\n\nconst scrollToCategory = (index) => {\n\tcurrentCategory.value = index\n\tscrollIntoView.value = `category-${index}`\n\t// 等待下一帧复位，避免连续点击无效\n\tsetTimeout(() => (scrollIntoView.value = ''), 800)\n}\n\nconst specPopupVisible = ref(false)\nconst currentSpecItem = ref(null)\nconst specQuantity = ref(1)\n\nconst selectSpec = (item) => {\n\tconsole.log('加号按钮点击事件触发', item.name)\n\tconsole.log(\"点击了规格选择\")\n\tcurrentSpecItem.value = item\n\tspecQuantity.value = 1\n\tspecPopupVisible.value = true\n\tconsole.log('显示规格选择弹窗 - 仅包含数量选择')\n}\n\nconst incQty = () => {\n\tspecQuantity.value += 1\n}\nconst decQty = () => {\n\tif (specQuantity.value > 1) specQuantity.value -= 1\n}\n\nconst confirmSpecAdd = () => {\n\tupdateCart(currentSpecItem.value, specQuantity.value)\n\tspecPopupVisible.value = false\n}\n\nconst updateCart = (item, delta) => {\n\tshopStore.updateGoodsNum(item.id, delta)\n}\n\nconst showCartPopup = () => {\n\tif (cartItems.value.length === 0) {\n\t\tuni.showToast({ title: '购物车为空', icon: 'none' })\n\t\treturn\n\t}\n\tcartPopupVisible.value = true\n}\n\nconst clearCart = () => {\n\tshopStore.resetGoodsNum()\n}\n\nconst goToOrder = () => {\n\tif (cartItems.value.length === 0) {\n\t\tuni.showToast({\n\t\t\ttitle: '请先选择商品',\n\t\t\ticon: 'none'\n\t\t})\n\t\treturn\n\t}\n\t\n\t// 跳转到订单确认页\n\tuni.navigateTo({\n\t\turl: '/pages/Shops/Order/Order'\n\t})\n}\n\nconst getCategoryGoods = (categoryId) => {\n\t// 如果是\"全部商品\"分类（id为0），则返回所有商品\n\tif (categoryId === 0) {\n\t\treturn goodsList.value\n\t}\n\t// 否则返回特定分类的商品\n\treturn goodsList.value.filter(item => item.categoryId === categoryId)\n}\n\nconst onScroll = (e) => {\n\t// 防抖处理\n\tif (scrollTimer.value) clearTimeout(scrollTimer.value)\n\tscrollTimer.value = setTimeout(() => {\n\t\tconst scrollTop = e.detail.scrollTop\n\t\tconst query = uni.createSelectorQuery()\n\t\tquery.selectAll('.category-section').boundingClientRect(rects => {\n\t\t\tif (!rects || !rects.length) return\n\t\t\t\n\t\t\t// 找到当前可见的第一个分类\n\t\t\tlet currentIndex = 0\n\t\t\tfor (let i = 0; i < rects.length; i++) {\n\t\t\t\tif (rects[i].top >= 0) {\n\t\t\t\t\tcurrentIndex = i\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcurrentCategory.value = currentIndex\n\t\t}).exec()\n\t}, 100)\n}\n\n// 商品详情弹窗\nconst goodsDetailVisible = ref(false)\nconst currentDetailItem = ref(null)\n\n// 显示商品详情\nconst showGoodsDetail = (item) => {\n\tconsole.log('卡片点击事件触发', item.name)\n\t// 先确保有商品信息，防止传递 null 值\n\tif (!item) {\n\t\tuni.showToast({\n\t\t\ttitle: '商品信息不完整',\n\t\t\ticon: 'none'\n\t\t})\n\t\treturn\n\t}\n\tcurrentDetailItem.value = item\n\tgoodsDetailVisible.value = true\n\tconsole.log('显示商品详情弹窗 - 包含详情内容')\n}\n\n// 处理从详情弹窗添加到购物车\nconst handleAddToCart = ({ item, quantity }) => {\n\t// 确保数据有效\n\tif (!item || quantity <= 0) return\n\tupdateCart(item, quantity)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n\theight: 100vh;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground: #f5f5f5;\n}\n\n.search-container {\n\t\n\tpadding: 20rpx;\n\tbackground: #fff;\n\tposition: sticky;\n\ttop: 0;\n\tz-index: 100;\n\tbox-shadow: 0 2rpx 10rpx rgba(0,0,0,0.05);\n}\n\n.search-box {\n\twidth: 90%;\n\tmargin: 0 auto;\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 15rpx 20rpx;\n\tbackground: #f5f5f5;\n\tborder-radius: 30rpx;\n\t\n\t.search-icon {\n\t\twidth: 32rpx;\n\t\theight: 32rpx;\n\t\tmargin-right: 10rpx;\n\t}\n\t\n\t.placeholder {\n\t\tfont-size: 28rpx;\n\t\tcolor: #999;\n\t}\n}\n\n.divider {\n\twidth: 95%;\n\tmargin: 0 auto 20rpx;\n\theight: 2rpx;\n\tbackground: linear-gradient(to right, transparent, #f0f0f0, transparent);\n\tposition: relative;\n\t\n\t&::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tleft: 50%;\n\t\ttop: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\twidth: 60rpx;\n\t\theight: 8rpx;\n\t\tbackground: linear-gradient(to right, #2aeee6, #7df7f2);\n\t\tborder-radius: 4rpx;\n\t}\n}\n\n.content {\n\tdisplay: flex;\n\tbackground: #fff;\n\tmargin-top: 20rpx;\n\tpadding-bottom: 110rpx;\n}\n\n.cu-list.menu {\n\twidth: 200rpx;\n\tmax-height: calc(100vh - 380rpx);\n\tbackground: #f8f8f8;\n\toverflow-y: auto;\n\talign-self: flex-start;\n\n\t.cu-item {\n\t\tmin-height: 90rpx;\n\t\tpadding: 0 30rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tfont-size: 28rpx;\n\t\tcolor: #666;\n\t\tposition: relative;\n\t\ttransition: all 0.3s;\n\t\tborder: 2rpx solid transparent;\n\t\tborder-radius: 10rpx;\n\t\tmargin: 10rpx;\n\t\tbackground: #fff;\n\t\ttext-align: center;\n\n\t\ttext {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\theight: 100%;\n\t\t}\n\n\t\t&.active {\n\t\t\tcolor: #2aeee6;\n\t\t\tbackground: #fff;\n\t\t\tborder-color: #2aeee6;\n\n\t\t\t&::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\n\t\t&:not(.active):hover {\n\t\t\tborder-color: rgba(42, 238, 230, 0.3);\n\t\t\tcolor: #2aeee6;\n\t\t}\n\t}\n}\n\n.main {\n\tflex: 1;\n\tpadding: 20rpx;\n\t /* 预留购物车高度 */\n\toverflow-y: auto;\n\tmin-height: 0;\n\tmax-height: 780rpx;\n\tdisplay: block; /* 确保正确的布局 */\n}\n\n.category-section {\n\tpadding: 20rpx;\n\twidth: 100%;\n\tbox-sizing: border-box;\n\n\t.category-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tmargin-left: -10rpx;\n\t\tcolor: #333;\n\t\tpadding: 20rpx 0 20rpx 0;\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tbackground: #fff;\n\t\tz-index: 20;\n\t\t\n\t}\n}\n\n.goods-item {\n\tdisplay: flex;\n\tpadding: 24rpx;\n\tmargin: 0 auto 24rpx;\n\twidth: 92%;\n\tmax-width: 680rpx;\n\tbackground: #fff;\n\tborder-radius: 16rpx;\n\tborder: 1rpx solid #f0f0f0;\n\tbox-shadow: 0 4rpx 14rpx rgba(0, 0, 0, 0.06), 0 8rpx 28rpx rgba(0,0,0,0.06);\n\ttransition: transform 0.2s cubic-bezier(0.23, 1, 0.32, 1), box-shadow 0.2s;\n\tposition: relative;\n\tz-index: 1;\n\t\n\t&::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: transparent;\n\t\tborder-radius: 16rpx;\n\t\ttransition: background-color 0.2s;\n\t}\n\t\n\t&:active {\n\t\ttransform: translateY(4rpx) scale(0.98);\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1);\n\t\t\n\t\t&::after {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.03);\n\t\t}\n\t}\n}\n\n.goods-image {\n\twidth: 160rpx;\n\theight: 160rpx;\n\tborder-radius: 8rpx;\n\tmargin-right: 20rpx;\n}\n\n.goods-info {\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 160rpx;\n}\n\n.goods-name-wrap {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-bottom: 10rpx;\n}\n\n.goods-name {\n\tfont-size: 28rpx;\n\tcolor: #333;\n\tfont-weight: bold;\n\tmargin-right: 10rpx;\n}\n\n.goods-desc {\n\tfont-size: 24rpx;\n\tcolor: #999;\n\tmargin-bottom: 20rpx;\n}\n\n.goods-bottom {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-top: auto;\n}\n\n.goods-price {\n\tfont-size: 32rpx;\n\tcolor: #f01616;\n\tfont-weight: bold;\n}\n\n.goods-action {\n\tmargin-left: 20rpx;\n\tposition: relative;\n\tz-index: 10;\n}\n\n.spec-icon {\n\tmargin-left: 50rpx;\n\twidth: 44rpx;\n\theight: 44rpx;\n\tposition: relative;\n\tz-index: 10;\n}\n\n.num {\n\tfont-size: 28rpx;\n\tcolor: #333;\n}\n\n.cart {\n\theight: 100rpx;\n\tbackground: #fff;\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 0 24rpx;\n\tbox-shadow: 0 -2rpx 10rpx rgba(0,0,0,0.05);\n\tposition: fixed;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0rpx; /* tabBar 高度约 100rpx，可按实际调整 */\n\tz-index: 1000;\n\t\n\t.cart-info {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t\n\t\t.cart-icon {\n\t\t\tposition: relative;\n\t\t\twidth: 80rpx;\n\t\t\theight: 80rpx;\n\t\t\tbackground: #bfbfbf;\n\t\t\tborder-radius: 50%;\n\t\t\tmargin-top: -40rpx;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tmargin-right: 20rpx;\n\t\t\t\n\t\t\t.cart-icon-img {\n\t\t\t\twidth: 48rpx;\n\t\t\t\theight: 48rpx;\n\t\t\t}\n\t\t\t\n\t\t\t.badge {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: -6rpx;\n\t\t\t\tright: -6rpx;\n\t\t\t\tmin-width: 32rpx;\n\t\t\t\theight: 32rpx;\n\t\t\t\tpadding: 0 8rpx;\n\t\t\t\tbackground: #fff;\n\t\t\t\tborder: 2rpx solid #2aeee6;\n\t\t\t\tborder-radius: 16rpx;\n\t\t\t\tfont-size: 20rpx;\n\t\t\t\tcolor: #2aeee6;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.cart-price {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #f01616;\n\t\t}\n\t}\n\t\n\t.cart-button {\n\t\tbutton {\n\t\t\twidth: 180rpx;\n\t\t\theight: 70rpx;\n\t\t\tline-height: 70rpx;\n\t\t\tbackground: #f01616;\n\t\t\tcolor: #fff;\n\t\t\tfont-size: 28rpx;\n\t\t\tborder-radius: 35rpx;\n\t\t}\n\t}\n}\n\n.popup {\n\tbackground: #fff;\n\tborder-radius: 20rpx 20rpx 0 0;\n\tpadding: 30rpx 30rpx 0rpx 30rpx;\n\t\n\t.popup-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\t\t\n\t\t.title {\n\t\t\tfont-size: 30rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #333;\n\t\t}\n\t\t\n\t\t.clear {\n\t\t\tfont-size: 26rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\t\n\t.popup-content {\n\t\tmax-height: 600rpx;\n\t\t\n\t\t.popup-item {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tpadding: 20rpx 0;\n\t\t\tborder-bottom: 1rpx solid #f5f5f5;\n\t\t\t\n\t\t\t.item-image {\n\t\t\t\twidth: 100rpx;\n\t\t\t\theight: 100rpx;\n\t\t\t\tborder-radius: 8rpx;\n\t\t\t\tmargin-right: 20rpx;\n\t\t\t}\n\t\t\t\n\t\t\t.item-info {\n\t\t\t\tflex: 1;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\t\n\t\t\t\t.item-name {\n\t\t\t\t\tfont-size: 26rpx;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t\tmargin-bottom: 8rpx;\n\t\t\t\t\tdisplay:block;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.item-price {\n\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\tcolor: #ff4400;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tdisplay:block;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.item-action {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\t\n\t\t\t\t.minus, .plus {\n\t\t\t\t\twidth: 44rpx;\n\t\t\t\t\theight: 44rpx;\n\t\t\t\t\tline-height: 44rpx;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.minus {\n\t\t\t\t\tbackground: #f5f5f5;\n\t\t\t\t\tcolor: #666;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.plus {\n\t\t\t\t\tbackground: #ff4400;\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.num {\n\t\t\t\t\tmargin: 0 16rpx;\n\t\t\t\t\tfont-size: 26rpx;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n.notice-wrapper {\n\twidth: 97%;\n\theight: 30rpx;\n\tmargin: 0 auto;\n\tbackground: #fff;\n\tpadding: 15rpx 10rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tborder-bottom: 1rpx solid #f5f5f5;\n\tmargin-top: 15rpx;\n}\n\n.horn-icon {\n\twidth: 40rpx;\n\theight: 40rpx;\n\tmargin-right: 16rpx;\n}\n\n.spec-popup {\n\tpadding: 30rpx 30rpx 0 30rpx;\n\tdisplay: flex;\n\tflex-direction: column;\n\tmax-height: 80vh;\n\tbox-sizing: border-box;\n\n\t.popup-header {\n\t\tdisplay: flex;\n\t\tmargin-bottom: 30rpx;\n\t\t.popup-image {\n\t\t\twidth: 160rpx;\n\t\t\theight: 160rpx;\n\t\t\tborder-radius: 8rpx;\n\t\t\tmargin-right: 20rpx;\n\t\t}\n\t\t.popup-info {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tjustify-content: center;\n\t\t\t.popup-name {\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: #333;\n\t\t\t\tmargin-bottom: 10rpx;\n\t\t\t}\n\t\t\t.popup-price {\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tcolor: #f01616;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\t\t}\n\t}\n\n\t.popup-section {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 40rpx;\n\n\t\t.section-title {\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #333;\n\t\t}\n\n\t\t.qty-control {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\n\t\t\t.btn {\n\t\t\t\twidth: 60rpx;\n\t\t\t\theight: 60rpx;\n\t\t\t\tborder-radius: 8rpx;\n\t\t\t\tbackground: #f5f5f5;\n\t\t\t\tcolor: #333;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tfont-size: 36rpx;\n\t\t\t}\n\n\t\t\t.qty-number {\n\t\t\t\tmargin: 0 20rpx;\n\t\t\t\tfont-size: 32rpx;\n\t\t\t}\n\t\t}\n\t}\n\n\t.popup-footer {\n\t\tmargin-top: auto;\n\t\t.confirm-btn {\n\t\t\twidth: 100%;\n\t\t\theight: 90rpx;\n\t\t\tline-height: 90rpx;\n\t\t\tborder-radius: 45rpx;\n\t\t\tbackground: linear-gradient(90deg, #ff4d4f, #ff0000);\n\t\t\tcolor: #fff;\n\t\t\tfont-size: 32rpx;\n\t\t\ttext-align: center;\n\t\t}\n\t}\n}\n</style>","import MiniProgramPage from 'D:/CatAndDog/pages/Shops/Shops.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onMounted","uni","useShopStore","storeToRefs","computed"],"mappings":"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"}